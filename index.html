<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Final HTML Generator</title>

<style>
/* ===== GENERATOR UI ===== */
body{
  font-family:Arial,Helvetica,sans-serif;
  background:#f1f5f9;
  margin:0;
  padding:24px;
}
.box{
  max-width:1000px;
  margin:auto;
  background:#fff;
  border-radius:18px;
  padding:26px;
  box-shadow:0 20px 40px rgba(0,0,0,.12);
}
h1{margin-top:0}
label{
  font-weight:700;
  display:block;
  margin-top:14px;
}
input,textarea{
  width:100%;
  padding:11px;
  border-radius:10px;
  border:1px solid #cbd5e1;
  font-size:14px;
}
textarea{
  height:260px;
  font-family:monospace;
}
button{
  margin-top:18px;
  padding:14px 20px;
  border:0;
  border-radius:12px;
  background:#2563eb;
  color:#fff;
  font-weight:900;
  cursor:pointer;
}
button.secondary{
  background:#16a34a;
  margin-left:8px;
}
iframe{
  width:100%;
  height:560px;
  border:1px solid #cbd5e1;
  border-radius:14px;
  margin-top:14px;
}
.hint{
  font-size:12px;
  color:#64748b;
  margin-top:6px;
}
</style>
</head>
<body>

<div class="box">
  <h1>Final HTML Generator</h1>

  <label>Title</label>
  <input id="title" placeholder="Book title">

  <label>Author</label>
  <input id="author" placeholder="Author name">

  <label>Image URL</label>
  <input id="image" placeholder="https://example.com/cover.jpg">

  <label>PDF URL</label>
  <input id="pdf" placeholder="https://example.com/file.pdf">

  <div class="hint">Live preview appears only when all fields are filled.</div>

  <button onclick="generate()">Generate HTML</button>
  <button class="secondary" onclick="copyHtml()">Copy HTML</button>

  <label>Generated HTML</label>
  <textarea id="output"></textarea>

  <label>Live Preview</label>
  <iframe id="preview"></iframe>
</div>

<script>
['title','author','image','pdf'].forEach(id=>{
  document.getElementById(id).addEventListener('input', generate);
});

function generate(){
  const t = title.value.trim();
  const a = author.value.trim();
  const i = image.value.trim();
  const p = pdf.value.trim();

  if(!t || !a || !i || !p){
    output.value = '';
    preview.srcdoc = '';
    return;
  }

  const d = `${a} 著『${t}』の公式PDF版を今すぐダウンロード。正規版・完全版を著者から直接入手できます。`;

  const html = `<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>${t}｜公式PDFダウンロード</title>
<meta name="description" content="${d}">
<meta name="author" content="${a}">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:linear-gradient(135deg,#4f46e5,#0ea5e9);
  color:#1f2937;
}
.wrap{
  max-width:760px;
  margin:auto;
  padding:32px 16px;
}
.hero{
  background:rgba(255,255,255,.95);
  backdrop-filter:blur(10px);
  border-radius:22px;
  padding:36px 26px;
  text-align:center;
  box-shadow:0 30px 60px rgba(0,0,0,.25);
}
.badge{
  display:inline-block;
  background:linear-gradient(135deg,#22c55e,#16a34a);
  color:#fff;
  padding:6px 16px;
  border-radius:999px;
  font-size:.75rem;
  font-weight:800;
  margin-bottom:16px;
}
img{
  max-width:200px;
  border-radius:14px;
  margin:0 auto 22px;
  display:block;
  box-shadow:0 20px 40px rgba(0,0,0,.3);
}
h1{font-size:1.9rem;color:#1e3a8a;margin:.3em 0}
h2{font-size:1rem;color:#475569;margin:0}
.rating{
  margin:18px 0;
  font-size:1rem;
}
.stars{
  font-size:1.4rem;
  font-weight:900;
  color:#facc15;
  letter-spacing:2px;
}
p{color:#475569;font-size:.95rem}
.cta{
  display:inline-block;
  margin-top:26px;
  padding:18px 28px;
  border-radius:16px;
  background:linear-gradient(135deg,#2563eb,#1e40af);
  color:#fff;
  font-weight:900;
  text-decoration:none;
  box-shadow:0 18px 40px rgba(37,99,235,.55);
}
.features{
  display:grid;
  gap:16px;
  margin:36px 0;
}
.feature{
  background:rgba(255,255,255,.95);
  padding:18px;
  border-radius:14px;
  box-shadow:0 12px 26px rgba(0,0,0,.15);
  border-left:5px solid #2563eb;
  font-weight:600;
}
footer{
  text-align:center;
  font-size:.75rem;
  color:#e5e7eb;
  margin-top:36px;
}
</style>
</head>
<body>

<div class="wrap">
<section class="hero">
<span class="badge">公式著者版</span>
<img src="${i}" alt="${t}">
<h1>${t}</h1>
<h2>著者：${a}</h2>

<div class="rating">
  <span class="stars">★★★★★</span><br>
  高評価レビュー多数
</div>

<p>${d}</p>
<a class="cta" href="#" onclick="openPdf()">PDFを読む</a>

<div id="pdfModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:9999">
  <div style="position:absolute;top:5%;left:5%;right:5%;bottom:5%;background:#fff;border-radius:14px;overflow:hidden">
    <button onclick="closePdf()" style="position:absolute;top:10px;right:10px;padding:8px 12px;border:0;border-radius:8px;background:#2563eb;color:#fff;font-weight:700">閉じる</button>
    <iframe src="${p}" style="width:100%;height:100%;border:0"></iframe>
  </div>
</div>
</section>

<section class="features">
  <div class="feature">✔ 著者公式の正規PDF</div>
  <div class="feature">✔ 即アクセス・即閲覧</div>
  <div class="feature">✔ 全デバイス対応</div>
</section>

<footer>© 公式著者版・無断転載禁止</footer>
</div>

<script>
function openPdf(){document.getElementById('pdfModal').style.display='block'}
function closePdf(){document.getElementById('pdfModal').style.display='none'}
<\/script>
</body>
</html>`;

  output.value = html;
  preview.srcdoc = html;
}

function copyHtml(){
  if(!output.value) return alert('Nothing to copy');
  output.select();
  document.execCommand('copy');
  alert('HTML copied');
}
</script>

</body>
</html>
